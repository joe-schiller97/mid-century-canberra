!function(c){var b={};function a(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return c[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=c,a.c=b,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:d})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(b,d){var c,e;if(1&d&&(b=a(b)),8&d)return b;if(4&d&&"object"==typeof b&&b&&b.__esModule)return b;if(c=Object.create(null),a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:b}),2&d&&"string"!=typeof b)for(e in b)a.d(c,e,function(a){return b[a]}.bind(null,e));return c},a.n=function(b){var c=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(c,"a",c),c},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="",a(a.s=169)}({0:function(a,b){a.exports=wp.i18n},169:function(k,j,b){"use strict";var a,f,g,d,e,i;b.r(j),a=b(0),f=b(23),g=b.n(f),d=b(18),e=function(g){var b,c,d,e,f,a,h;if(window.hasOwnProperty("grecaptcha"))return e=g.id,f=document.createElement("div"),a=g.querySelector(".otter-form__container"),null==a||a.insertBefore(f,a.lastChild),h=null===(b=window.grecaptcha)||void 0===b?void 0:b.render(f,{sitekey:null===(c=window)||void 0===c||null===(d=c.themeisleGutenbergForm)||void 0===d?void 0:d.reRecaptchaSitekey,callback:function(b){var a;null!==(a=window.themeisleGutenberg)&&void 0!==a&&a.tokens||(window.themeisleGutenberg={},window.themeisleGutenberg.tokens={}),window.themeisleGutenberg.tokens[e]={token:b,reset:function(){var a;return null===(a=window.grecaptcha)||void 0===a?void 0:a.reset(h)}}},"expired-callback":function(){var a;null!==(a=window.themeisleGutenberg)&&void 0!==a&&a.tokens||(window.themeisleGutenberg={},window.themeisleGutenberg.tokens={}),window.themeisleGutenberg.tokens[e]={token:null,reset:function(){return null}}}}),h};function h(a){return function(a){if(Array.isArray(a))return c(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,d){if(!a)return;if("string"==typeof a)return c(a,d);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return c(a,d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}b.n(d)()(function(){var b=document.querySelectorAll(".wp-block-themeisle-blocks-form");!function(d){var b,c,a;!window.hasOwnProperty("grecaptcha")&&null!==(b=window)&&void 0!==b&&null!==(c=b.themeisleGutenbergForm)&&void 0!==c&&c.reRecaptchaSitekey&&(a=document.createElement("script"),a.id="recaptcha",document.body.appendChild(a),a.addEventListener("load",function(){var a=setInterval(function(){window.hasOwnProperty("grecaptcha")&&grecaptcha.hasOwnProperty("render")&&(d.forEach(function(a){var b;null!=a&&null!==(b=a.classList)&&void 0!==b&&b.contains("has-captcha")&&e(a)}),clearInterval(a))},200)}),a.src="https://www.google.com/recaptcha/api.js")}(b),b.forEach(function(c){c.classList.contains("can-submit-and-subscribe")&&i(c);var b=c.querySelector("button");null==b||b.addEventListener("click",function(d){b.disabled||(d.preventDefault(),b.disabled=!0,function(b,v){var s,r,k,j,e=null==b?void 0:b.id,d={},l=[],C=[{label:Object(a.__)("Form submission from","otter-blocks"),value:window.location.href}],G=null==b?void 0:b.querySelectorAll(".otter-form__container .wp-block-themeisle-blocks-form-input"),F=null==b?void 0:b.querySelectorAll(".otter-form__container .wp-block-themeisle-blocks-form-textarea"),E,D,c,i,t,u,f,w,x,y,z,A,q,p,o,n,m,B;null===(s=[].concat(h(G),h(F)))||void 0===s||s.forEach(function(b){var c,d,e=null===(c=b.querySelector(".otter-form-input-label__label, .otter-form-textarea-label__label"))||void 0===c?void 0:c.innerHTML,a=b.querySelector(".otter-form-input, .otter-form-textarea-input"),f=null===(d=b.querySelector('.otter-form-input[type="checkbox"]'))||void 0===d?void 0:d.checked;null==a||!a.hasAttribute("required")||null!=a&&a.checkValidity()||l.push(a),e&&null!=a&&a.value&&C.push({label:e,value:null==a?void 0:a.value,type:null==a?void 0:a.type,checked:f})}),E=".protection #".concat(b.id||"","_nonce_field"),D=null===(r=b.querySelector(E))||void 0===r?void 0:r.value,c=b.querySelector(".wp-block-button"),null==c||c.classList.add("has-submit-msg"),i=function(a){c.querySelectorAll(".otter-form-server-response").forEach(function(a){return c.removeChild(a)}),c.appendChild(a),setTimeout(function(){a&&c===a.parentNode&&c.removeChild(a)},1e4)},0<l.length||null!=b&&null!==(k=b.classList)&&void 0!==k&&k.contains("has-captcha")&&e&&(null===(j=window.themeisleGutenberg)||void 0===j||!j.tokens[e].token)?(l.forEach(function(a){null==a||a.reportValidity()}),null!=b&&null!==(t=b.classList)&&void 0!==t&&t.contains("has-captcha")&&e&&(null===(u=window.themeisleGutenberg)||void 0===u||!u.tokens[e].token)&&(f=document.createElement("div"),f.classList.add("otter-form-server-response"),window.hasOwnProperty("grecaptcha")?f.innerHTML=Object(a.__)("âš  Please check the captcha.","otter-blocks"):f.innerHTML=Object(a.__)("âš  Captcha is not loaded. Please check your browser plugins to allow the Google reCaptcha.","otter-blocks"),f.classList.add("warning"),i(f)),v.disabled=!1):(d.data=C,""!==(null==b||null===(w=b.dataset)||void 0===w?void 0:w.emailSubject)&&(d.emailSubject=null==b||null===(p=b.dataset)||void 0===p?void 0:p.emailSubject),null!=b&&null!==(x=b.dataset)&&void 0!==x&&x.optionName&&(d.formOption=null==b||null===(o=b.dataset)||void 0===o?void 0:o.optionName),null!=b&&null!==(y=b.classList)&&void 0!==y&&y.contains("has-captcha")&&e&&null!==(z=window.themeisleGutenberg)&&void 0!==z&&null!==(A=z.tokens)&&void 0!==A&&A[e].token&&(d.token=null===(n=window.themeisleGutenberg)||void 0===n||null===(m=n.tokens)||void 0===m?void 0:m[e].token),(null!=b&&b.id&&(d.formId=null==b?void 0:b.id),D&&(d.nonceValue=D),d.postUrl=window.location.href,null==c||c.classList.add("loading"),null!=b&&b.id&&(d.formId=null==b?void 0:b.id),b.classList.contains("is-subscription")&&(d.action="subscribe"),b.classList.contains("can-submit-and-subscribe"))&&(d.action="submit-subscribe",d.consent=(null===(B=b.querySelector(".otter-form-consent input"))||void 0===B?void 0:B.checked)||!1),d.postUrl=window.location.href,null==c||c.classList.add("loading"),null===(q=g()({path:"themeisle-gutenberg-blocks/v1/forms",method:"POST",data:d}).then(function(b){var f,g,h,j,d;null==c||c.classList.remove("loading"),d=document.createElement("div"),(d.classList.add("otter-form-server-response"),null!=b&&b.success?(d.innerHTML=Object(a.__)("Success","otter-blocks"),d.classList.add("success")):(d.classList.add("error"),"provider"===(null==b?void 0:b.error_source)?null!=b&&b.error.includes("invalid")||null!=b&&b.error.includes("fake")?(d.classList.add("warning"),d.innerHTML=Object(a.__)("âš  The email address does not look correct!","otter-blocks")):null!=b&&b.error.includes("duplicate")||null!=b&&b.error.includes("already")?(d.classList.add("info"),d.innerHTML=Object(a.__)("ðŸ›ˆ The email was already registered!","otter-blocks")):d.innerHTML=Object(a.__)("Error. Something is wrong with the server! Try again later.","otter-blocks"):d.innerHTML=Object(a.__)("Error. Something is wrong with the server! Try again later.","otter-blocks"),console.error(null==b?void 0:b.error,null==b?void 0:b.reasons)),i(d),null!==(f=window.themeisleGutenberg)&&void 0!==f&&null!==(g=f.tokens)&&void 0!==g&&g[e].reset)&&(null===(h=window.themeisleGutenberg)||void 0===h||null===(j=h.tokens)||void 0===j||j[e].reset()),v.disabled=!1}))||void 0===q||q.catch(function(j){var d,f,g,h,b;null==c||c.classList.remove("loading"),console.error(j),b=document.createElement("div"),(b.classList.add("otter-form-server-response"),b.innerHTML=Object(a.__)("Error. Something is wrong with the server! Try again later.","otter-blocks"),b.classList.add("error"),i(b),null!==(d=window.themeisleGutenberg)&&void 0!==d&&null!==(f=d.tokens)&&void 0!==f&&f[e].reset)&&(null===(g=window.themeisleGutenberg)||void 0===g||null===(h=g.tokens)||void 0===h||h[e].reset()),v.disabled=!1}))}(c,b))})})}),i=function(e){var f=e.querySelector(".otter-form__container"),g=e.querySelector(".wp-block-button"),b=document.createElement("div"),c,d;b.classList.add("otter-form-consent"),f.insertBefore(b,g),c=document.createElement("input"),c.type="checkbox",c.name="consent",c.id="consent",d=document.createElement("label"),d.innerHTML=Object(a.__)("I consent to my name and email to be collected.","otter-blocks"),d.htmlFor="consent",b.appendChild(c),b.appendChild(d)}},18:function(a,b){a.exports=wp.domReady},23:function(a,b){a.exports=wp.apiFetch}})